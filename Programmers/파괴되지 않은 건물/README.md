## [문제 바로가기](https://programmers.co.kr/learn/courses/30/lessons/92344)

---

### 문제 읽기

N X M 크기의 게임 맵이 있다.

이 맵은 배열로 주어지는데 주어지는 배열의 값은 각 칸의 내구도를 의미한다.

이 건물은 적의 공격을 받으면 받은 만큼 내구도가 감소하고, 아군의 회복 스킬로 내구도를 회복한다.

내구도가 0보다 크면 파괴되지 않았다고 할 때 파괴되지 않은 건물의 수를 구하는 문제

---

### 풀이방법

건물은 배열로 주어지고 공격하거나 회복되는 스킬이 추가적인 배열로 문제에서 주어진다.

skill -> [type, r1, c1, r2, c2, degree] 로 주어지는데

type이 1이면 공격 2면 회복이며 r1, c1, r2, c2는 범위, degree는 데미지나 회복량을 의미한다.

간단한 시뮬레이션으로 생각하고 풀게되면 skill 범위가 250,000 이기 때문에 시간초과가 발생한다.

그래서 누적합으로 문제를 풀이해야한다.

각 스킬을 탐색하면서 시작점과 끝점 + 1에 누적합 계산을 위한 값을 먼저 표시한다.

그 뒤 표시된 값을 기준으로 상하좌우를 탐색하여 누적합을 계산하고 기존 값과 더해서 파괴여부를 확인한다.
